//
// LaxNav from Alex Cican
// http://alexcican.com/post/teehan-lax-navigation/
//

// embedded font that has hamburger and x icon
@font-face
  font-family: 'sicanstudios-demo'
  src: url("fonts/sicanstudios-demo.eot")


@font-face
  font-family: 'sicanstudios-demo'
  src: url(data:application/font-woff;charset=utf-8;base64,d09GRk9UVE8AAAWoAAsAAAAACQwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAABCAAAAmUAAAPJ8avxu0ZGVE0AAANwAAAAGgAAABxmU0KwR0RFRgAAA4wAAAAdAAAAIAAxAARPUy8yAAADrAAAAE0AAABgUErdwGNtYXAAAAP8AAAASgAAAVrgexZjaGVhZAAABEgAAAAuAAAANv3pFDtoaGVhAAAEeAAAAB4AAAAkBBD/5GhtdHgAAASYAAAADgAAAA4EAAAgbWF4cAAABKgAAAAGAAAABgAEUABuYW1lAAAEsAAAAOwAAAH16Df8JXBvc3QAAAWcAAAADAAAACAAAwAAeJxlkk1oE1EQx2eT3SSNy1ZDIhbWqtcWIeAHxEPBUMR6sNLsIT2JGsWoSQ9JPWiSoq3xsJ5CvBgQD6KFVCgIpQcJohDwozc923N7qaWHlybNOPNeGoRe/szuezP/37wZDXQdNE0L5dK3bmRz+dlUeiZ3OnU7MwOaBzQYE7ZHHPeKY7prel1THw7CUCKErtsPTL97T7wUecOG6qANcNiG2hEbjtrejyHwco0ADMHIbDZ9KRqNHrA56AugPYerMA06J3vAhBGvabkir3eqouq36iIcGRXOpr/jtA9EFmpt5xPCeP1ZBEFbCiB2E6sUnXtK0aEmAjQXEfc2ywieEyXE3ck/dPCtg9hK/kZsZywplLfyZoElbvCPSu+olfxF17+PceJrLlHoFZNlu2aArZ6waZ7tB6gOdh/SseZDTH2wEGqJMyrC1NIa1UYssBRZSiyNvhS5zgqJE2P4MjvPsR+BYSypGHBvnT5b00l2/kKYD9YQ9Mq27CCOMHG9KDsYlH9Vr+B7P8rwDQRj+RTDb9Bn+LGCB20nRlJvcgdX6BTiLPN9udiXhQA3dJYlzw39pGhqi3te5Z4vGwx/YX8QBE+1Gwqe/B4x/DwznGTnr8T1boMx//Y6IPgGy2dDwZMs86VFun5e58S3XCLOxfgVY68UPFmV2HRC2gckSg+qNrX9H6jklsNRtJTzYr/1nYJaGwlKT3SH/W6qmUsGuQfqUduZa5K2xI9elrRbamMkqFobOajdyXUFSmMcV6ByL2nSQo67tzGSlvak0qfNysiwRDXsRu7/EI7rGw5qzt05c8A1g/8AVu305QAAAHicY2BgYGQAgpOd+YYg+lzKy/0wGgBJ3QeoAAB4nGNgZGBg4ANiCQYQYGJgBEJmIGYB8xgABGsANgAAAHicY2BmYmCcwMDKwMHow5jGwMDgDqW/MkgytDAwMDGwMjPAAKMAAwIEpLmmMDgw5H5gYHzw/wGDHuMDBoUGoBqwQiCDQQEIGQEGMgwuAAAAeJxjYGBgZoBgGQZGBhAIAfIYwXwWBgsgzcXAwcAEhAwMuQwVHxj+/wergrP/T/3fLcAI1QsFjGwMqAK0BkwIJjM97cUDAF10C80AAHicY2BkYGAA4qwPfHnx/DZfGbiZGEDgXMrL/Qj6/wMmBsYHQC4HA1gaAEfUDAUAAHicY2BkYGB88P8Bgx4TAwPDPwYgCRRBAcwAbecD9gAAAgAAAAAAAAACAAAgAAAAAAAAUAAABAAAeJydj7FOwzAQhj+3SQWCpQsbklWxMDhKjITUTix0Y+3AVjVRlaGOlKSvws4T8TC8AL9bi4UBqbZO993df/YdcMsHhngMcx4ST8h4STzF8Zk4k+Y7cc6NuU88Y27epDTZtTKLU1fkCVc8J57yzmviTJqvxDl3Jk88Y2EeGWjZsSWIRo7UijuxEzUcxAztbhuG8Vi33eDq5qDUb+0croVB7dH37FW0eApK+ZXs/0/OOq/rWMq8eiue9HQXxnXX7xvri9Ku7J9hlPPeLZ0vK8kvW2ejWn/qjXtY/RxnZ9P0Q9sFWxXlhS//AEv5VgZ4nGNgZsALAAB9AAQ=) format("woff"), url(data:application/x-font-ttf;charset=utf-8;base64,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) format("truetype")
  font-weight: normal
  font-style: normal


[data-icon]:before
  font-family: 'sicanstudios-demo'
  content: attr(data-icon)
  speak: none
  font-weight: normal
  font-variant: normal
  text-transform: none
  line-height: 1
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale
  font-size: 1.8rem
  transition: color .4s

// when laxnav__menu is shown, don't allow scrolling of content
body.no_scroll
  overflow: hidden
  height: 100%

// Firefox fix for overflow: hidden. Scroll bar is hidden and moves everything to the right
@-moz-document url-prefix()
  body.no_scroll
    //margin-right: 23px;
    .expanded
      //padding-right: 7px;
      background: rgba($white, 0.9)
      // because FF no blur, reduce bg transparency


a.brandmark
  color: $archgray
  font-size: 2rem
  letter-spacing: -2px
  .a
    color: $cardinalred
  .r
    color: $stlouisblues
  .t
    color: $gooeybutter
  &:hover
    color: $charcoal

.tagline
  color: $graphite
  font-family: $sans-condensed-light
  letter-spacing: 4px
  text-transform: uppercase

// on intial load fade in the menu
@keyframes firstFadeInAndDrop
  0%
    transform: translate(0, -54px)
  100%
    transform: translate(0, 0)


// === TOP MENU LAYOUT ===
// =======================

.laxnav
  background: rgba($white, 0.75)
  cursor: pointer
  height: 6.5rem
  // smaller height because font is smaller
  overflow: hidden
  position: absolute
  right: 0
  top: 0
  width: 100%
  //padding-top: 8px;
  z-index: 1000
  +box-shadow-bottom
  transform: translate(0, 0)
  transition: transform .4s, height .3s, background .4s
  animation: firstFadeInAndDrop .5s
  // on laxnav__menu hover add slight white bg
  &:hover
    background: rgba($white, 1)
  // limits width of menu to site width
  &__bar
    //max-width: 75%;
    //margin: 0 auto;
    padding: 2rem
    // name of site in main menu (not user selectable)
    > a
      font-weight: bold
      user-select: none
  // when hidden it goes up
  &.invisible
    transform: translate(0, -64px)
    transition: transform .2s
    opacity: 0
  // when shown & detached position is fixed
  &.detached
    position: fixed
    background: rgba($white, 0.9)
    transition: transform .3s, height .3s, background .4s, opacity .3s
  // === MENU laxnav__menu ===
  // =========================
  // increases menu width & height
  &.expanded
    width: 100%
    height: 100%
    position: fixed
    cursor: default
    background: rgba($white, 0.9)
    overflow-y: scroll
    // shows laxnav__menu
    #laxnav__menu
      transform: translate(0, 0)
      opacity: 1
  // positions laxnav__menu content
  &__menu
    opacity: 0
    width: 60%
    margin: 0 auto
    transform: translate(0, -1000px)
    transition: transform .15s, opacity .7s
  // === MENU laxnav__menu CONTENT ===
  // =================================
  // adds vertical spacing between menu links
  &__menu-list-item
    list-style-type: none
    +box-shadow-bottom
  &__menu-list-anchor
    color: $stlouisblues
    display: block
    font-size: 1.75rem
    font-family: $sans-condensed-bold
    padding: 0.1em 0.5rem
    text-transform: uppercase
    &:hover
      background: $cardinalred
      color: $white
  &__link-text
    display: inline-block
    width: 200px
  &__link-teaser
    color: $charcoal
    font-family: $sans-condensed-light
    font-size: 1rem

// === MENU ICONS ===
// ==================

// adds padding to icons
.icon
  padding: 2% 3%
  margin: -2% -3%
  // center icon in vertical middle of top menu
  cursor: pointer
  float: right
  user-select: none
  // hides extra text of icon (accessibility)
  span
    //display: none;
    color: $stlouisblues
    font-family: $sans-condensed-light
    font-size: 2rem
    letter-spacing: 4px
    text-transform: uppercase
  // on focus, don't show outline
  &:focus
    outline: none
  // icon colour
  &:before,
  &:active:before
    color: $text-link-color
  // changes colour on hover or keyboard focus
  &:hover:before,
  &:focus:before
    color: $text-link-color-hover

// changes icon to an X
.expanded .icon:before
  content: 'x'
  font-size: 1.4rem
  line-height: 1.4rem
  padding-right: .15rem

// === CONTENT BLURRING ===
// ========================

// adds transition to the content
.content-transition
  transition: transform .2s, filter .2s

// blurring content
.blurred
  transform: scale(0.99)
  filter: blur(5px)
  transition: transform .2s, filter .2s
